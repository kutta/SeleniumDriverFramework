package com.company.css.bct;

import com.company.cls.CLSLoginPage;
import com.company.cls.Logging;
import org.junit.After;
import org.junit.Before;
import org.junit.Test;

import com.company.cls.common.CLSTest;
import com.company.css.common.AlreadyRunException;
import com.company.css.common.Common;
import com.company.css.common.Prep;

public class BCT009_CLSSearchWithUser extends CLSTest {

    private StringBuffer verificationErrors = new StringBuffer();
    Prep preparation;

    @Override
    @Before
    public void setUp() throws Exception {
        super.setUp();
        preparation = new Prep();
        application = "CLS";
    }

    @Test
    public void testBCT009_CLSSearchWithUser() throws Exception {

        try {

            String userDisplayName = Common.getB2CLoginName();
            buildNumber = this.launchCLSApplication();

            CLSLoginPage loginPage = new CLSLoginPage(driver);

            Logging logging = loginPage.successfulCLSAdminLogin();

            logging.clickTodayFilter();
            logging.setDisplayUserName(userDisplayName);
            logging.clickSearch();

            logging.waitForLoadingToDisappear();
            logging.selectRecordPerPage("200");

            logging.assertClusterNameDropDownContains("WUIP_APP");
            logging.assertClusterNameDropDownContains("WUIP_INT");

            logging.clickLogut();

            result = "pass";
        } catch (AlreadyRunException e) {
        } catch (Exception e) {
            verificationErrors.append(e.getMessage());
            throw e;
        }

    }

    @Override
    @After
    public void tearDown() throws Exception {
        super.tearDown();
    }
}
